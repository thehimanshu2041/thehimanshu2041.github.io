import{G as H,r as l,j as e,H as V,J as O,c as z,T as I,O as P,K as $,L as C,F as G,B as h,b as w,d as L,e as T,f as Y,M as _,w as J,x as K,u as M}from"./index-mi2kdeca.js";import{o as S,g as A,l as R,m as y,S as q,T as Q,A as U}from"./index-Z0xbOtxj.js";import{C as p,S as W,a as X,b as Z,c as B,d as ee,e as ae}from"./select-Cto4jUfp.js";const E=H,te=V,F=l.forwardRef(({className:n,...d},o)=>e.jsx(P,{ref:o,className:z("fixed grid place-items-center max-h-screen inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...d}));F.displayName=P.displayName;const k=l.forwardRef(({className:n,children:d,...o},s)=>e.jsx(te,{children:e.jsx(F,{children:e.jsx(O,{ref:s,className:z("z-50 grid w-full max-w-lg lg:max-w-screen-lg border bg-card shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-md",n),...o,children:d})})}));k.displayName=O.displayName;const D=l.forwardRef(({className:n,...d},o)=>e.jsx(I,{ref:o,className:z("text-lg font-semibold leading-none tracking-tight",n),...d}));D.displayName=I.displayName;const se=l.forwardRef(({className:n,...d},o)=>e.jsx($,{ref:o,className:z("text-sm text-muted-foreground",n),...d}));se.displayName=$.displayName;function le({name:n}){var i,x;const{getReportAttachment:d}=A,{isloading:o}=R,[s,g]=l.useState(null),[r,u]=l.useState("all"),[t,c]=l.useState(null);l.useEffect(()=>{N()},[]);const N=async()=>{const a=await d(n);g(a)};if(o)return e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600 dark:text-gray-300",children:[e.jsx(C,{className:"h-8 w-8 animate-spin mb-2"}),"Loading attachments..."]});if(!s)return e.jsx("div",{className:"p-5 text-center text-red-500",children:"No attachment data available."});const m=r==="all"?s.attachments:(i=s.attachments)==null?void 0:i.filter(a=>a.year===r);return e.jsxs("div",{className:"p-5 max-w-6xl mx-auto space-y-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[e.jsx(G,{className:"h-4 w-4 text-blue-600"}),e.jsx("h1",{className:"text-xl font-bold flex items-center gap-2",children:s.description||n})]})}),e.jsxs("div",{className:"flex gap-3 border-b border-gray-200 dark:border-gray-700 pb-3 overflow-x-auto",children:[e.jsxs(h,{onClick:()=>u("all"),variant:r==="all"?"default":"outline",className:"rounded-full",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),"All"]}),(x=s.attachments)==null?void 0:x.map(a=>e.jsxs(h,{onClick:()=>u(a.year),variant:r===a.year?"default":"outline",className:"rounded-full",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),a.year]},a.year))]}),m==null?void 0:m.map(a=>{var j;return e.jsxs(w,{children:[e.jsx(L,{children:e.jsxs(T,{className:"flex items-center gap-2 text-xl",children:[e.jsx(p,{className:"h-5 w-5 text-blue-500"}),"Year: ",a.year]})}),e.jsx(Y,{children:e.jsx("div",{className:"space-y-4",children:(j=a.files)==null?void 0:j.map((f,b)=>e.jsx(y.details,{initial:!1,className:"group border border-gray-200 dark:border-gray-700 rounded-md",children:e.jsxs("summary",{className:"cursor-pointer flex justify-between items-center px-4 py-2 bg-gray-50 dark:bg-gray-800",children:[e.jsx("span",{className:"font-medium flex items-center gap-2",children:f.file_name}),e.jsx(h,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:v=>{v.preventDefault(),c({name:f.file_name,path:f.file_path})},children:e.jsx(_,{className:"h-4 w-4"})})]})},b))})})]},a.year)}),e.jsx(E,{open:!!t,onOpenChange:()=>c(null),children:e.jsxs(k,{className:"w-[90vw] h-[90vh] flex flex-col p-0 relative",children:[e.jsxs("div",{className:"absolute top-2 left-4 right-4 flex items-center justify-between",children:[e.jsx(D,{className:"text-sm font-medium truncate",children:t==null?void 0:t.name}),e.jsx(h,{variant:"ghost",size:"sm",color:"red",onClick:()=>c(null),className:"h-7 w-7 rounded-full p-0 bg-red-500 text-white",children:"✕"})]}),t&&e.jsx("iframe",{src:t.path,className:"flex-1 w-full border-0 mt-10",title:t.name})]})})]})}const ne=S(le);function re({name:n}){var i,x;const{getReportAttachment:d}=A,{isloading:o}=R,[s,g]=l.useState(null),[r,u]=l.useState("all"),[t,c]=l.useState(null);l.useEffect(()=>{N()},[]);const N=async()=>{const a=await d(n);g(a)};if(o)return e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600 dark:text-gray-300",children:[e.jsx(C,{className:"h-8 w-8 animate-spin mb-2"}),"Loading attachments..."]});if(!s)return e.jsx("div",{className:"p-5 text-center text-red-500",children:"No attachment data available."});const m=r==="all"?s.attachments:(i=s.attachments)==null?void 0:i.filter(a=>a.year===r);return e.jsxs("div",{className:"p-5 max-w-6xl mx-auto space-y-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[e.jsx(q,{className:"h-5 w-5 text-blue-600"}),e.jsx("h1",{className:"text-xl font-bold flex items-center gap-2",children:s.description||n})]})}),e.jsxs("div",{className:"flex gap-3 border-b border-gray-200 dark:border-gray-700 pb-3 overflow-x-auto",children:[e.jsxs(h,{onClick:()=>u("all"),variant:r==="all"?"default":"outline",className:"rounded-full",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),"All"]}),(x=s.attachments)==null?void 0:x.map(a=>e.jsxs(h,{onClick:()=>u(a.year),variant:r===a.year?"default":"outline",className:"rounded-full",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),a.year]},a.year))]}),m==null?void 0:m.map(a=>{var j;return e.jsxs(w,{children:[e.jsx(L,{children:e.jsxs(T,{className:"flex items-center gap-2 text-xl",children:[e.jsx(p,{className:"h-5 w-5 text-blue-500"}),"Year: ",a.year]})}),e.jsx(Y,{children:e.jsx("div",{className:"space-y-4",children:(j=a.files)==null?void 0:j.map((f,b)=>e.jsx(y.details,{initial:!1,className:"group border border-gray-200 dark:border-gray-700 rounded-md",children:e.jsxs("summary",{className:"cursor-pointer flex justify-between items-center px-4 py-2 bg-gray-50 dark:bg-gray-800",children:[e.jsx("span",{className:"font-medium flex items-center gap-2",children:f.file_name}),e.jsx(h,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:v=>{v.preventDefault(),c({name:f.file_name,path:f.file_path})},children:e.jsx(_,{className:"h-4 w-4"})})]})},b))})})]},a.year)}),e.jsx(E,{open:!!t,onOpenChange:()=>c(null),children:e.jsxs(k,{className:"w-[90vw] h-[90vh] flex flex-col p-0 relative",children:[e.jsxs("div",{className:"absolute top-2 left-4 right-4 flex items-center justify-between",children:[e.jsx(D,{className:"text-sm font-medium truncate",children:t==null?void 0:t.name}),e.jsx(h,{variant:"ghost",size:"sm",color:"red",onClick:()=>c(null),className:"h-7 w-7 rounded-full p-0 bg-red-500 text-white",children:"✕"})]}),t&&e.jsx("iframe",{src:t.path,className:"flex-1 w-full border-0 mt-10",title:t.name})]})})]})}const ie=S(re);function ce({name:n}){var i,x;const{getReportAttachment:d}=A,{isloading:o}=R,[s,g]=l.useState(null),[r,u]=l.useState("all"),[t,c]=l.useState(null);l.useEffect(()=>{N()},[]);const N=async()=>{const a=await d(n);g(a)};if(o)return e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600 dark:text-gray-300",children:[e.jsx(C,{className:"h-8 w-8 animate-spin mb-2"}),"Loading attachments..."]});if(!s)return e.jsx("div",{className:"p-5 text-center text-red-500",children:"No attachment data available."});const m=r==="all"?s.attachments:(i=s.attachments)==null?void 0:i.filter(a=>a.year===r);return e.jsxs("div",{className:"p-5 max-w-6xl mx-auto space-y-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[e.jsx(Q,{className:"h-5 w-5 text-blue-600"}),e.jsx("h1",{className:"text-xl font-bold flex items-center gap-2",children:s.description||n})]})}),e.jsxs("div",{className:"flex gap-3 border-b border-gray-200 dark:border-gray-700 pb-3 overflow-x-auto",children:[e.jsxs(h,{onClick:()=>u("all"),variant:r==="all"?"default":"outline",className:"rounded-full",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),"All"]}),(x=s.attachments)==null?void 0:x.map(a=>e.jsxs(h,{onClick:()=>u(a.year),variant:r===a.year?"default":"outline",className:"rounded-full",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),a.year]},a.year))]}),m==null?void 0:m.map(a=>{var j;return e.jsxs(w,{children:[e.jsx(L,{children:e.jsxs(T,{className:"flex items-center gap-2 text-xl",children:[e.jsx(p,{className:"h-5 w-5 text-blue-500"}),"Year: ",a.year]})}),e.jsx(Y,{children:e.jsx("div",{className:"space-y-4",children:(j=a.files)==null?void 0:j.map((f,b)=>e.jsx(y.details,{initial:!1,className:"group border border-gray-200 dark:border-gray-700 rounded-md",children:e.jsxs("summary",{className:"cursor-pointer flex justify-between items-center px-4 py-2 bg-gray-50 dark:bg-gray-800",children:[e.jsx("span",{className:"font-medium flex items-center gap-2",children:f.file_name}),e.jsx(h,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:v=>{v.preventDefault(),c({name:f.file_name,path:f.file_path})},children:e.jsx(_,{className:"h-4 w-4"})})]})},b))})})]},a.year)}),e.jsx(E,{open:!!t,onOpenChange:()=>c(null),children:e.jsxs(k,{className:"w-[90vw] h-[90vh] flex flex-col p-0 relative",children:[e.jsxs("div",{className:"absolute top-2 left-4 right-4 flex items-center justify-between",children:[e.jsx(D,{className:"text-sm font-medium truncate",children:t==null?void 0:t.name}),e.jsx(h,{variant:"ghost",size:"sm",color:"red",onClick:()=>c(null),className:"h-7 w-7 rounded-full p-0 bg-red-500 text-white",children:"✕"})]}),t&&e.jsx("iframe",{src:t.path,className:"flex-1 w-full border-0 mt-10",title:t.name})]})})]})}const de=S(ce);function oe({name:n}){var i,x;const{getReportAttachment:d}=A,{isloading:o}=R,[s,g]=l.useState(null),[r,u]=l.useState("all"),[t,c]=l.useState(null);l.useEffect(()=>{N()},[]);const N=async()=>{const a=await d(n);g(a)};if(o)return e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600 dark:text-gray-300",children:[e.jsx(C,{className:"h-8 w-8 animate-spin mb-2"}),"Loading attachments..."]});if(!s)return e.jsx("div",{className:"p-5 text-center text-red-500",children:"No attachment data available."});const m=r==="all"?s.attachments:(i=s.attachments)==null?void 0:i.filter(a=>a.year===r);return e.jsxs("div",{className:"p-5 max-w-6xl mx-auto space-y-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[e.jsx(U,{className:"h-5 w-5 text-blue-600"}),e.jsx("h1",{className:"text-xl font-bold flex items-center gap-2",children:s.description||n})]})}),e.jsxs("div",{className:"flex gap-3 border-b border-gray-200 dark:border-gray-700 pb-3 overflow-x-auto",children:[e.jsxs(h,{onClick:()=>u("all"),variant:r==="all"?"default":"outline",className:"rounded-full",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),"All"]}),(x=s.attachments)==null?void 0:x.map(a=>e.jsxs(h,{onClick:()=>u(a.year),variant:r===a.year?"default":"outline",className:"rounded-full",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),a.year]},a.year))]}),m==null?void 0:m.map(a=>{var j;return e.jsxs(w,{children:[e.jsx(L,{children:e.jsxs(T,{className:"flex items-center gap-2 text-xl",children:[e.jsx(p,{className:"h-5 w-5 text-blue-500"}),"Year: ",a.year]})}),e.jsx(Y,{children:e.jsx("div",{className:"space-y-4",children:(j=a.files)==null?void 0:j.map((f,b)=>e.jsx(y.details,{initial:!1,className:"group border border-gray-200 dark:border-gray-700 rounded-md",children:e.jsxs("summary",{className:"cursor-pointer flex justify-between items-center px-4 py-2 bg-gray-50 dark:bg-gray-800",children:[e.jsx("span",{className:"font-medium flex items-center gap-2",children:f.file_name}),e.jsx(h,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:v=>{v.preventDefault(),c({name:f.file_name,path:f.file_path})},children:e.jsx(_,{className:"h-4 w-4"})})]})},b))})})]},a.year)}),e.jsx(E,{open:!!t,onOpenChange:()=>c(null),children:e.jsxs(k,{className:"w-[90vw] h-[90vh] flex flex-col p-0 relative",children:[e.jsxs("div",{className:"absolute top-2 left-4 right-4 flex items-center justify-between",children:[e.jsx(D,{className:"text-sm font-medium truncate",children:t==null?void 0:t.name}),e.jsx(h,{variant:"ghost",size:"sm",color:"red",onClick:()=>c(null),className:"h-7 w-7 rounded-full p-0 bg-red-500 text-white",children:"✕"})]}),t&&e.jsx("iframe",{src:t.path,className:"flex-1 w-full border-0 mt-10",title:t.name})]})})]})}const me=S(oe);function xe(){const{name:n}=J(),d=K(),{getReportType:o}=A,{isloading:s}=R,g=M(),[r,u]=l.useState([]),[t,c]=l.useState(null);l.useEffect(()=>{N()},[]);const N=async()=>{var x;const i=await o();u((i==null?void 0:i.report)||[]),(x=d.state)!=null&&x.name?c(d.state.name):n&&c(n)},m=i=>{c(i),g(`/attachment/${i}`,{replace:!0,state:{name:i}})};return s&&r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600 dark:text-gray-300",children:[e.jsx(C,{className:"h-8 w-8 animate-spin mb-2"}),"Loading reports..."]}):e.jsxs("div",{className:"p-3 mx-auto space-y-6",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"w-64",children:e.jsx(w,{className:"shadow-sm border border-gray-200 dark:border-gray-700",children:e.jsxs(W,{value:t||"",onValueChange:m,children:[e.jsx(X,{className:"w-full h-9 text-sm",children:e.jsx(Z,{placeholder:"Choose a report"})}),e.jsx(B,{children:r.map(({name:i,description:x})=>e.jsx(ee,{value:i,className:"text-sm",children:x},i))})]})})})}),!t&&e.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600 dark:text-gray-300",children:"Please choose a report to view attachments."}),e.jsxs(w,{children:[t==="lipidprofile"&&e.jsx(ne,{name:"lipidprofile"}),t==="lft"&&e.jsx(ie,{name:"lft"}),t==="rft"&&e.jsx(de,{name:"rft"}),t==="thyroid"&&e.jsx(me,{name:"thyroid"}),!["lipidprofile","lft","rft","thyroid"].includes(t||"")&&t&&e.jsxs("div",{className:"italic p-5 font-bold flex items-center gap-2 text-yellow-600 dark:text-yellow-400",children:[e.jsx(ae,{className:"h-6 w-6"}),e.jsxs("span",{children:['No custom component for "',t,'" yet.']})]})]})]})}const pe=S(xe);export{pe as default};
