import{p as L,r as N,j as s,L as W,B as $,b as z,d as X,e as J,f as Q,q as B,v as ee,w as ke,x as Ee,u as $e}from"./index-mi2kdeca.js";import{o as O,g as Y,l as q,m as A,A as V,S as De,T as Le}from"./index-Z0xbOtxj.js";import{F as _}from"./flask-conical-B3Oe1VLa.js";import{C as D,S as Te,a as Fe,b as Pe,c as Me,d as Ae,e as Ie}from"./select-Cto4jUfp.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=L("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=L("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=L("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=L("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=L("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=L("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=L("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=L("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=L("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=L("SquareActivity",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=L("TestTubeDiagonal",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=L("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function qe(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const a=document.implementation.createHTMLDocument(),r=a.createElement("base"),i=a.createElement("a");return a.head.appendChild(r),a.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const Ge=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function M(e){const t=[];for(let a=0,r=e.length;a<r;a++)t.push(e[a]);return t}let H=null;function ye(e={}){return H||(e.includeStyleProperties?(H=e.includeStyleProperties,H):(H=M(window.getComputedStyle(document.documentElement)),H))}function Z(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function Ze(e){const t=Z(e,"border-left-width"),a=Z(e,"border-right-width");return e.clientWidth+t+a}function Ke(e){const t=Z(e,"border-top-width"),a=Z(e,"border-bottom-width");return e.clientHeight+t+a}function be(e,t={}){const a=t.width||Ze(e),r=t.height||Ke(e);return{width:a,height:r}}function Xe(){let e,t;try{t=process}catch{}const a=t&&t.env?t.env.devicePixelRatio:null;return a&&(e=parseInt(a,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const E=16384;function Je(e){(e.width>E||e.height>E)&&(e.width>E&&e.height>E?e.width>e.height?(e.height*=E/e.width,e.width=E):(e.width*=E/e.height,e.height=E):e.width>E?(e.height*=E/e.width,e.width=E):(e.width*=E/e.height,e.height=E))}function K(e){return new Promise((t,a)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=a,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function Qe(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Be(e,t,a){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),n=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${a}`),i.setAttribute("viewBox",`0 0 ${t} ${a}`),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("externalResourcesRequired","true"),i.appendChild(n),n.appendChild(e),Qe(i)}const k=(e,t)=>{if(e instanceof t)return!0;const a=Object.getPrototypeOf(e);return a===null?!1:a.constructor.name===t.name||k(a,t)};function et(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function tt(e,t){return ye(t).map(a=>{const r=e.getPropertyValue(a),i=e.getPropertyPriority(a);return`${a}: ${r}${i?" !important":""};`}).join(" ")}function st(e,t,a,r){const i=`.${e}:${t}`,n=a.cssText?et(a):tt(a,r);return document.createTextNode(`${i}{${n}}`)}function de(e,t,a,r){const i=window.getComputedStyle(e,a),n=i.getPropertyValue("content");if(n===""||n==="none")return;const l=Ge();try{t.className=`${t.className} ${l}`}catch{return}const c=document.createElement("style");c.appendChild(st(l,a,i,r)),t.appendChild(c)}function rt(e,t,a){de(e,t,":before",a),de(e,t,":after",a)}const me="application/font-woff",ue="image/jpeg",at={woff:me,woff2:me,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ue,jpeg:ue,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function nt(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function le(e){const t=nt(e).toLowerCase();return at[t]||""}function it(e){return e.split(/,/)[1]}function ie(e){return e.search(/^(data:)/)!==-1}function lt(e,t){return`data:${t};base64,${e}`}async function we(e,t,a){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((n,l)=>{const c=new FileReader;c.onerror=l,c.onloadend=()=>{try{n(a({res:r,result:c.result}))}catch(d){l(d)}},c.readAsDataURL(i)})}const ne={};function ct(e,t,a){let r=e.replace(/\?.*/,"");return a&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function ce(e,t,a){const r=ct(e,t,a.includeQueryParams);if(ne[r]!=null)return ne[r];a.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const n=await we(e,a.fetchRequestInit,({res:l,result:c})=>(t||(t=l.headers.get("Content-Type")||""),it(c)));i=lt(n,t)}catch(n){i=a.imagePlaceholder||"";let l=`Failed to fetch resource: ${e}`;n&&(l=typeof n=="string"?n:n.message),l&&console.warn(l)}return ne[r]=i,i}async function ot(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):K(t)}async function dt(e,t){if(e.currentSrc){const n=document.createElement("canvas"),l=n.getContext("2d");n.width=e.clientWidth,n.height=e.clientHeight,l==null||l.drawImage(e,0,0,n.width,n.height);const c=n.toDataURL();return K(c)}const a=e.poster,r=le(a),i=await ce(a,r,t);return K(i)}async function mt(e,t){var a;try{if(!((a=e==null?void 0:e.contentDocument)===null||a===void 0)&&a.body)return await se(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function ut(e,t){return k(e,HTMLCanvasElement)?ot(e):k(e,HTMLVideoElement)?dt(e,t):k(e,HTMLIFrameElement)?mt(e,t):e.cloneNode(ve(e))}const ht=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",ve=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function pt(e,t,a){var r,i;if(ve(t))return t;let n=[];return ht(e)&&e.assignedNodes?n=M(e.assignedNodes()):k(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?n=M(e.contentDocument.body.childNodes):n=M(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),n.length===0||k(e,HTMLVideoElement)||await n.reduce((l,c)=>l.then(()=>se(c,a)).then(d=>{d&&t.appendChild(d)}),Promise.resolve()),t}function ft(e,t,a){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):ye(a).forEach(n=>{let l=i.getPropertyValue(n);n==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),k(e,HTMLIFrameElement)&&n==="display"&&l==="inline"&&(l="block"),n==="d"&&t.getAttribute("d")&&(l=`path(${t.getAttribute("d")})`),r.setProperty(n,l,i.getPropertyPriority(n))})}function xt(e,t){k(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),k(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function gt(e,t){if(k(e,HTMLSelectElement)){const a=t,r=Array.from(a.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function yt(e,t,a){return k(t,Element)&&(ft(e,t,a),rt(e,t,a),xt(e,t),gt(e,t)),t}async function bt(e,t){const a=e.querySelectorAll?e.querySelectorAll("use"):[];if(a.length===0)return e;const r={};for(let n=0;n<a.length;n++){const c=a[n].getAttribute("xlink:href");if(c){const d=e.querySelector(c),j=document.querySelector(c);!d&&j&&!r[c]&&(r[c]=await se(j,t,!0))}}const i=Object.values(r);if(i.length){const n="http://www.w3.org/1999/xhtml",l=document.createElementNS(n,"svg");l.setAttribute("xmlns",n),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";const c=document.createElementNS(n,"defs");l.appendChild(c);for(let d=0;d<i.length;d++)c.appendChild(i[d]);e.appendChild(l)}return e}async function se(e,t,a){return!a&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>ut(r,t)).then(r=>pt(e,r,t)).then(r=>yt(e,r,t)).then(r=>bt(r,t))}const je=/url\((['"]?)([^'"]+?)\1\)/g,wt=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,vt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function jt(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Nt(e){const t=[];return e.replace(je,(a,r,i)=>(t.push(i),a)),t.filter(a=>!ie(a))}async function St(e,t,a,r,i){try{const n=a?qe(t,a):t,l=le(t);let c;return i||(c=await ce(n,l,r)),e.replace(jt(t),`$1${c}$3`)}catch{}return e}function Ct(e,{preferredFontFormat:t}){return t?e.replace(vt,a=>{for(;;){const[r,,i]=wt.exec(a)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function Ne(e){return e.search(je)!==-1}async function Se(e,t,a){if(!Ne(e))return e;const r=Ct(e,a);return Nt(r).reduce((n,l)=>n.then(c=>St(c,l,t,a)),Promise.resolve(r))}async function U(e,t,a){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const n=await Se(i,null,a);return t.style.setProperty(e,n,t.style.getPropertyPriority(e)),!0}return!1}async function Rt(e,t){await U("background",e,t)||await U("background-image",e,t),await U("mask",e,t)||await U("-webkit-mask",e,t)||await U("mask-image",e,t)||await U("-webkit-mask-image",e,t)}async function kt(e,t){const a=k(e,HTMLImageElement);if(!(a&&!ie(e.src))&&!(k(e,SVGImageElement)&&!ie(e.href.baseVal)))return;const r=a?e.src:e.href.baseVal,i=await ce(r,le(r),t);await new Promise((n,l)=>{e.onload=n,e.onerror=t.onImageErrorHandler?(...d)=>{try{n(t.onImageErrorHandler(...d))}catch(j){l(j)}}:l;const c=e;c.decode&&(c.decode=n),c.loading==="lazy"&&(c.loading="eager"),a?(e.srcset="",e.src=i):e.href.baseVal=i})}async function Et(e,t){const r=M(e.childNodes).map(i=>Ce(i,t));await Promise.all(r).then(()=>e)}async function Ce(e,t){k(e,Element)&&(await Rt(e,t),await kt(e,t),await Et(e,t))}function $t(e,t){const{style:a}=e;t.backgroundColor&&(a.backgroundColor=t.backgroundColor),t.width&&(a.width=`${t.width}px`),t.height&&(a.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{a[i]=r[i]}),e}const he={};async function pe(e){let t=he[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},he[e]=t,t}async function fe(e,t){let a=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,n=(a.match(/url\([^)]+\)/g)||[]).map(async l=>{let c=l.replace(r,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),we(c,t.fetchRequestInit,({result:d})=>(a=a.replace(l,`url(${d})`),[l,d]))});return Promise.all(n).then(()=>a)}function xe(e){if(e==null)return[];const t=[],a=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(a,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const d=i.exec(r);if(d===null)break;t.push(d[0])}r=r.replace(i,"");const n=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(l,"gi");for(;;){let d=n.exec(r);if(d===null){if(d=c.exec(r),d===null)break;n.lastIndex=c.lastIndex}else c.lastIndex=n.lastIndex;t.push(d[0])}return t}async function Dt(e,t){const a=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{M(i.cssRules||[]).forEach((n,l)=>{if(n.type===CSSRule.IMPORT_RULE){let c=l+1;const d=n.href,j=pe(d).then(v=>fe(v,t)).then(v=>xe(v).forEach(b=>{try{i.insertRule(b,b.startsWith("@import")?c+=1:i.cssRules.length)}catch(S){console.error("Error inserting rule from remote css",{rule:b,error:S})}})).catch(v=>{console.error("Error loading remote css",v.toString())});r.push(j)}})}catch(n){const l=e.find(c=>c.href==null)||document.styleSheets[0];i.href!=null&&r.push(pe(i.href).then(c=>fe(c,t)).then(c=>xe(c).forEach(d=>{l.insertRule(d,l.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",n)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{M(i.cssRules||[]).forEach(n=>{a.push(n)})}catch(n){console.error(`Error while reading CSS rules from ${i.href}`,n)}}),a))}function Lt(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Ne(t.style.getPropertyValue("src")))}async function Tt(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const a=M(e.ownerDocument.styleSheets),r=await Dt(a,t);return Lt(r)}function Re(e){return e.trim().replace(/["']/g,"")}function Ft(e){const t=new Set;function a(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(n=>{t.add(Re(n))}),Array.from(r.children).forEach(n=>{n instanceof HTMLElement&&a(n)})}return a(e),t}async function Pt(e,t){const a=await Tt(e,t),r=Ft(e);return(await Promise.all(a.filter(n=>r.has(Re(n.style.fontFamily))).map(n=>{const l=n.parentStyleSheet?n.parentStyleSheet.href:null;return Se(n.cssText,l,t)}))).join(`
`)}async function Mt(e,t){const a=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await Pt(e,t);if(a){const r=document.createElement("style"),i=document.createTextNode(a);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function At(e,t={}){const{width:a,height:r}=be(e,t),i=await se(e,t,!0);return await Mt(i,t),await Ce(i,t),$t(i,t),await Be(i,a,r)}async function It(e,t={}){const{width:a,height:r}=be(e,t),i=await At(e,t),n=await K(i),l=document.createElement("canvas"),c=l.getContext("2d"),d=t.pixelRatio||Xe(),j=t.canvasWidth||a,v=t.canvasHeight||r;return l.width=j*d,l.height=v*d,t.skipAutoScale||Je(l),l.style.width=`${j}`,l.style.height=`${v}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,l.width,l.height)),c.drawImage(n,0,0,l.width,l.height),l}async function re(e,t={}){return(await It(e,t)).toDataURL()}function Ht({name:e}){var S,T;const{getReportDetail:t}=Y,{isloading:a}=q,[r,i]=N.useState(null),[n,l]=N.useState("all"),c=N.useRef({}),d={triglycerides:G,"total cholesterol":Ve,"hdl cholesterol":V,"ldl cholesterol":Ue,vldl:ge};N.useEffect(()=>{j()},[]);const j=async()=>{const o=await t(e);i(o)},v=async(o,w)=>{const f=c.current[`${w}-${o}`];if(!f)return;const u=document.documentElement.classList.contains("dark"),g=f.cloneNode(!0),h=document.createElement("div");h.innerHTML=`
      <div class="mb-6 border-b pb-3 text-sm font-sans">
        <h2 class="flex items-center justify-center gap-3 text-2xl font-extrabold tracking-wide mb-6">
        <!-- Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-black-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2m-7 4h8M5 21h14l-1-7H6l-1 7z" />
          </svg>
          <span>${r.description||"Lipid Profile"} Report</span>
        </h2>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px 16px;color:#374151;font-size:14px;margin-bottom:12px;">
          <div><strong>Name:</strong> ${(sessionStorage.getItem("github_username")||"N/A").replace(/\b\w/g,y=>y.toUpperCase())}</div>
          <div style="text-align:right;"><strong>Year:</strong> ${w}</div>
          <div><strong>Month:</strong> ${o}</div>
          <div style="text-align:right;"><strong>Downloaded At:</strong> ${new Date().toLocaleDateString()}</div>
        </div>
      </div>
    `,g.insertBefore(h,g.firstChild);const p=document.createElement("div");p.style.position="fixed",p.style.top="-9999px",p.style.left="-9999px",p.style.width="900px",p.appendChild(g),document.body.appendChild(p);const m=await re(g,{backgroundColor:u?"#111827":"#ffffff"});document.body.removeChild(p);const x=document.createElement("a");x.download=`${e}-${w}-${o}-report.png`,x.href=m,x.click()};if(a)return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600 dark:text-gray-300",children:[s.jsx(W,{className:"h-8 w-8 animate-spin mb-2"}),"Loading reports..."]});if(!r)return s.jsx("div",{className:"p-5 text-center text-red-500",children:"No report data available."});const b=n==="all"?r.reports:(S=r.reports)==null?void 0:S.filter(o=>o.year===n);return s.jsxs("div",{className:"p-5 max-w-6xl mx-auto space-y-5",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[s.jsx(_,{className:"h-5 w-5 text-blue-600"}),s.jsx("h1",{className:"text-xl font-bold flex items-center gap-2",children:r.description||e})]})}),s.jsxs("div",{className:"flex gap-3 border-b border-gray-200 dark:border-gray-700 pb-3 overflow-x-auto",children:[s.jsxs($,{onClick:()=>l("all"),variant:n==="all"?"default":"outline",className:"rounded-full",children:[s.jsx(D,{className:"h-4 w-4 mr-1"}),"All"]}),(T=r.reports)==null?void 0:T.map(o=>s.jsxs($,{onClick:()=>l(o.year),variant:n===o.year?"default":"outline",className:"rounded-full",children:[s.jsx(D,{className:"h-4 w-4 mr-1"}),o.year]},o.year))]}),b==null?void 0:b.map(o=>{var w;return s.jsxs(z,{children:[s.jsx(X,{children:s.jsxs(J,{className:"flex items-center gap-2 text-xl",children:[s.jsx(D,{className:"h-5 w-5 text-blue-500"}),"Year: ",o.year]})}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-6",children:(w=o.months)==null?void 0:w.map(f=>s.jsxs(A.details,{initial:!1,className:"group border border-gray-200 dark:border-gray-700",children:[s.jsxs("summary",{className:"cursor-pointer flex justify-between items-center px-4 py-2 bg-gray-50 dark:bg-gray-800",children:[s.jsxs("span",{className:"font-medium flex items-center gap-2",children:[s.jsx(B,{className:"group-open:hidden h-4 w-4 text-gray-500"}),s.jsx(ee,{className:"hidden group-open:block h-4 w-4 text-gray-500"}),f.month]}),s.jsx($,{onClick:u=>{u.preventDefault(),v(f.month,o.year)},size:"sm",variant:"outline",className:"flex items-center gap-1",children:s.jsx(te,{className:"h-4 w-4"})})]}),s.jsx("div",{ref:u=>c.current[`${o.year}-${f.month}`]=u,className:"p-4 bg-white dark:bg-gray-900",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800 text-left",children:[s.jsx("th",{className:"px-4 py-2",children:"Parameter"}),s.jsx("th",{className:"px-4 py-2",children:"Value"}),s.jsx("th",{className:"px-4 py-2",children:"Standard"}),s.jsx("th",{className:"px-4 py-2 text-right",children:"Unit"})]})}),s.jsx("tbody",{children:Object.entries(f.report).map(([u,g])=>{var C;const h=(C=r.standards)==null?void 0:C[u],p=(h==null?void 0:h.unit)||"",m=(h==null?void 0:h.standard)||"",x=parseFloat(g);let y=!1;if(m){if(m.startsWith("<")){const R=parseFloat(m.replace("<","").trim());y=x>=R}else if(m.startsWith(">")){const R=parseFloat(m.replace(">","").trim());y=x<=R}else if(m.includes("-")){const[R,I]=m.split("-").map(ae=>parseFloat(ae.trim()));y=x<R||x>I}}const P=u.replace(/_/g," "),F=d[P.toLowerCase()];return s.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("td",{className:"px-4 py-2 capitalize text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[F&&s.jsx(F,{className:"w-4 h-4 text-blue-500"}),P]}),s.jsx("td",{className:`px-4 py-2 ${y?"font-bold text-red-600 dark:text-red-400":"text-gray-900 dark:text-gray-100"}`,children:g}),s.jsx("td",{className:"px-4 py-2 text-gray-500",children:m}),s.jsx("td",{className:"px-4 py-2 text-right text-gray-500",children:p})]},u)})})]})})})]},f.month))})})]},o.year)})]})}const Ut=O(Ht);function zt({name:e}){var S,T;const{getReportDetail:t}=Y,{isloading:a}=q,[r,i]=N.useState(null),[n,l]=N.useState("all"),c=N.useRef({}),d={"bilirubin total":G,"bilirubin direct":G,"sgpt alt":V,"sgot ast":V,"alkaline phosphatase":_,"total protein":ge,albumin:oe,globulin:oe,"a g ratio":ze};N.useEffect(()=>{j()},[]);const j=async()=>{const o=await t(e);i(o)},v=async(o,w)=>{const f=c.current[o];if(!f)return;const u=document.documentElement.classList.contains("dark"),g=f.cloneNode(!0),h=document.createElement("div");h.innerHTML=`
      <div class="mb-6 border-b pb-3 text-sm font-sans" 
        style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;">

        <!-- Title -->
        <h2 
          class="flex items-center justify-center gap-3 text-2xl font-extrabold tracking-wide mb-6"
          style="margin:0 0 20px 0;"
        >
          <!-- Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-black-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2m-7 4h8M5 21h14l-1-7H6l-1 7z" />
          </svg>

          <!-- Text -->
          <span class="uppercase">
            ${r.description||"Liver Function Test"} Report
          </span>
        </h2>

        <!-- Patient Info -->
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px 16px;color:#374151;font-size:14px;margin-bottom:12px;">
          <div><strong>Name:</strong> ${(sessionStorage.getItem("github_username")||"N/A").replace(/\b\w/g,y=>y.toUpperCase())}</div>
          <div style="text-align:right;"><strong>Year:</strong> ${w}</div>

          <div><strong>Month:</strong> ${o}</div>
          <div style="text-align:right;"><strong>Downloaded At:</strong> ${new Date().toLocaleDateString()}</div>
        </div>

        <!-- Report Type -->
        <div style="margin-top:14px;text-align:left;font-size:14px;color:#374151;line-height:1.5;">
          <strong>Report Description: </strong> Liver Function Test (LFT) measures various enzymes, proteins, and substances produced by the liver to assess its health and functionality.
        </div>
      </div>
    `,g.insertBefore(h,g.firstChild);const p=document.createElement("div");p.style.position="fixed",p.style.top="-9999px",p.style.left="-9999px",p.style.width="900px",p.appendChild(g),document.body.appendChild(p);const m=await re(g,{backgroundColor:u?"#111827":"#ffffff"});document.body.removeChild(p);const x=document.createElement("a");x.download=`${e}-${w}-${o}-report.png`,x.href=m,x.click()};if(a)return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600 dark:text-gray-300",children:[s.jsx(W,{className:"h-8 w-8 animate-spin mb-2"}),"Loading reports..."]});if(!r)return s.jsx("div",{className:"p-5 text-center text-red-500",children:"No report data available."});const b=n==="all"?r.reports:(S=r.reports)==null?void 0:S.filter(o=>o.year===n);return s.jsxs("div",{className:"p-5 max-w-6xl mx-auto space-y-5",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[s.jsx(De,{className:"h-5 w-5 text-blue-600"}),s.jsx("h1",{className:"text-xl font-bold flex items-center gap-2",children:r.description||e})]})}),s.jsxs("div",{className:"flex gap-3 border-b border-gray-200 dark:border-gray-700 pb-3 overflow-x-auto",children:[s.jsxs($,{onClick:()=>l("all"),variant:n==="all"?"default":"outline",className:"rounded-full",children:[s.jsx(D,{className:"h-4 w-4 mr-1"}),"All"]}),(T=r.reports)==null?void 0:T.map(o=>s.jsxs($,{onClick:()=>l(o.year),variant:n===o.year?"default":"outline",className:"rounded-full",children:[s.jsx(D,{className:"h-4 w-4 mr-1"}),o.year]},o.year))]}),b==null?void 0:b.map(o=>{var w;return s.jsxs(z,{children:[s.jsx(X,{children:s.jsxs(J,{className:"flex items-center gap-2 text-xl",children:[s.jsx(D,{className:"h-5 w-5 text-blue-500"}),"Year: ",o.year]})}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-6",children:(w=o.months)==null?void 0:w.map(f=>s.jsxs(A.details,{initial:!1,className:"group border border-gray-200 dark:border-gray-700",children:[s.jsxs("summary",{className:"cursor-pointer flex justify-between items-center px-4 py-2 bg-gray-50 dark:bg-gray-800",children:[s.jsxs("span",{className:"font-medium flex items-center gap-2",children:[s.jsx(B,{className:"group-open:hidden h-4 w-4 text-gray-500"}),s.jsx(ee,{className:"hidden group-open:block h-4 w-4 text-gray-500"}),f.month]}),s.jsx($,{onClick:u=>{u.preventDefault(),v(f.month,o.year)},size:"sm",variant:"outline",className:"flex items-center gap-1",children:s.jsx(te,{className:"h-4 w-4"})})]}),s.jsx("div",{ref:u=>c.current[f.month]=u,className:"p-4 bg-white dark:bg-gray-900",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800 text-left",children:[s.jsx("th",{className:"px-4 py-2",children:"Parameter"}),s.jsx("th",{className:"px-4 py-2",children:"Value"}),s.jsx("th",{className:"px-4 py-2",children:"Standard"}),s.jsx("th",{className:"px-4 py-2",children:"Unit"})]})}),s.jsx("tbody",{children:Object.entries(f.report).map(([u,g])=>{var C;const h=(C=r.standards)==null?void 0:C[u],p=(h==null?void 0:h.unit)||"",m=(h==null?void 0:h.standard)||"",x=parseFloat(g);let y=!1;if(m){if(m.startsWith("<")){const R=parseFloat(m.replace("<","").trim());y=x>=R}else if(m.startsWith(">")){const R=parseFloat(m.replace(">","").trim());y=x<=R}else if(m.includes("-")){const[R,I]=m.split("-").map(ae=>parseFloat(ae.trim()));y=x<R||x>I}}const P=u.replace(/_/g," "),F=d[P.toLowerCase()];return s.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("td",{className:"px-4 py-2 capitalize text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[F&&s.jsx(F,{className:"w-4 h-4 text-blue-500"}),P]}),s.jsx("td",{className:`px-4 py-2 ${y?"font-bold text-red-600 dark:text-red-400":"text-gray-900 dark:text-gray-100"}`,children:g}),s.jsx("td",{className:"px-4 py-2 text-gray-500",children:m}),s.jsx("td",{className:"px-4 py-2 text-gray-500",children:p})]},u)})})]})})})]},f.month))})})]},o.year)})]})}const Vt=O(zt);function _t({name:e}){var S,T;const{getReportDetail:t}=Y,{isloading:a}=q,[r,i]=N.useState(null),[n,l]=N.useState("all"),c=N.useRef({});N.useEffect(()=>{d()},[]);const d=async()=>{const o=await t(e);i(o)},j=async(o,w)=>{const f=c.current[o];if(!f)return;const u=document.documentElement.classList.contains("dark"),g=f.cloneNode(!0),h=document.createElement("div");h.innerHTML=`
      <div class="mb-6 border-b pb-3 text-sm font-sans">
        <h2 class="flex items-center justify-center gap-3 text-2xl font-extrabold tracking-wide mb-6">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-black-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2m-7 4h8M5 21h14l-1-7H6l-1 7z" />
          </svg>
          <span class="uppercase">${r.description||"Renal Function Test"} Report</span>
        </h2>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px 16px;color:#374151;font-size:14px;margin-bottom:12px;">
          <div><strong>Name:</strong> ${(sessionStorage.getItem("github_username")||"N/A").replace(/\b\w/g,y=>y.toUpperCase())}</div>
          <div style="text-align:right;"><strong>Year:</strong> ${w}</div>
          <div><strong>Month:</strong> ${o}</div>
          <div style="text-align:right;"><strong>Downloaded At:</strong> ${new Date().toLocaleDateString()}</div>
        </div>
        <div style="margin-top:14px;text-align:left;font-size:14px;color:#374151;line-height:1.5;">
          <strong>Report Description: </strong> Renal Function Test (RFT) evaluates kidney performance by measuring levels of urea, creatinine, uric acid, and electrolytes in the blood.
        </div>
      </div>
    `,g.insertBefore(h,g.firstChild);const p=document.createElement("div");p.style.position="fixed",p.style.top="-9999px",p.style.left="-9999px",p.style.width="900px",p.appendChild(g),document.body.appendChild(p);const m=await re(g,{backgroundColor:u?"#111827":"#ffffff"});document.body.removeChild(p);const x=document.createElement("a");x.download=`${e}-${w}-${o}-report.png`,x.href=m,x.click()};if(a)return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600 dark:text-gray-300",children:[s.jsx(W,{className:"h-8 w-8 animate-spin mb-2"}),"Loading reports..."]});if(!r)return s.jsx("div",{className:"p-5 text-center text-red-500",children:"No report data available."});const v=n==="all"?r.reports:(S=r.reports)==null?void 0:S.filter(o=>o.year===n),b={urea:_,creatinine:G,sodium:Ye,potassium:V,uric_acid:He};return s.jsxs("div",{className:"p-5 max-w-6xl mx-auto space-y-5",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[s.jsx(Le,{className:"h-5 w-5 text-blue-600"}),s.jsx("h1",{className:"text-xl font-bold flex items-center gap-2",children:r.description||e})]})}),s.jsxs("div",{className:"flex gap-3 border-b border-gray-200 dark:border-gray-700 pb-3 overflow-x-auto",children:[s.jsxs($,{onClick:()=>l("all"),variant:n==="all"?"default":"outline",className:"rounded-full",children:[s.jsx(D,{className:"h-4 w-4 mr-1"}),"All"]}),(T=r.reports)==null?void 0:T.map(o=>s.jsxs($,{onClick:()=>l(o.year),variant:n===o.year?"default":"outline",className:"rounded-full",children:[s.jsx(D,{className:"h-4 w-4 mr-1"}),o.year]},o.year))]}),v==null?void 0:v.map(o=>{var w;return s.jsxs(z,{children:[s.jsx(X,{children:s.jsxs(J,{className:"flex items-center gap-2 text-xl",children:[s.jsx(D,{className:"h-5 w-5 text-blue-500"}),"Year: ",o.year]})}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-6",children:(w=o.months)==null?void 0:w.map(f=>s.jsxs(A.details,{initial:!1,className:"group border border-gray-200 dark:border-gray-700",children:[s.jsxs("summary",{className:"cursor-pointer flex justify-between items-center px-4 py-2 bg-gray-50 dark:bg-gray-800",children:[s.jsxs("span",{className:"font-medium flex items-center gap-2",children:[s.jsx(B,{className:"group-open:hidden h-4 w-4 text-gray-500"}),s.jsx(ee,{className:"hidden group-open:block h-4 w-4 text-gray-500"}),f.month]}),s.jsx($,{onClick:u=>{u.preventDefault(),j(f.month,o.year)},size:"sm",variant:"outline",className:"flex items-center gap-1",children:s.jsx(te,{className:"h-4 w-4"})})]}),s.jsx("div",{ref:u=>c.current[f.month]=u,className:"p-4 bg-white dark:bg-gray-900",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800 text-left",children:[s.jsx("th",{className:"px-4 py-2",children:"Parameter"}),s.jsx("th",{className:"px-4 py-2",children:"Value"}),s.jsx("th",{className:"px-4 py-2",children:"Standard"}),s.jsx("th",{className:"px-4 py-2",children:"Unit"})]})}),s.jsx("tbody",{children:Object.entries(f.report).map(([u,g])=>{var F;const h=(F=r.standards)==null?void 0:F[u],p=(h==null?void 0:h.unit)||"",m=(h==null?void 0:h.standard)||"",x=parseFloat(g);let y=!1;if(m){if(m.startsWith("<")){const C=parseFloat(m.replace("<","").trim());y=x>=C}else if(m.startsWith(">")){const C=parseFloat(m.replace(">","").trim());y=x<=C}else if(m.includes("-")){const[C,R]=m.split("-").map(I=>parseFloat(I.trim()));y=x<C||x>R}}const P=b[u.toLowerCase()]||_;return s.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("td",{className:"px-4 py-2 capitalize text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[s.jsx(P,{className:"h-4 w-4 text-blue-500"}),u.replace(/_/g," ")]}),s.jsx("td",{className:`px-4 py-2 ${y?"font-bold text-red-600 dark:text-red-400":"text-gray-900 dark:text-gray-100"}`,children:g}),s.jsx("td",{className:"px-4 py-2 text-gray-500",children:m}),s.jsx("td",{className:"px-4 py-2 text-gray-500",children:p})]},u)})})]})})})]},f.month))})})]},o.year)})]})}const Wt=O(_t);function Ot({name:e}){var S,T;const{getReportDetail:t}=Y,{isloading:a}=q,[r,i]=N.useState(null),[n,l]=N.useState("all"),c=N.useRef({});N.useEffect(()=>{d()},[]);const d=async()=>{const o=await t(e);i(o)},j=async(o,w)=>{const f=c.current[o];if(!f)return;const u=document.documentElement.classList.contains("dark"),g=f.cloneNode(!0),h=document.createElement("div");h.innerHTML=`
      <div class="mb-6 border-b pb-3 text-sm font-sans">
        <h2 class="flex items-center justify-center gap-3 text-2xl font-extrabold tracking-wide mb-6">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-black-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2m-7 4h8M5 21h14l-1-7H6l-1 7z" />
          </svg>
          <span class="uppercase">${r.description||"Thyroid Function Test"} Report</span>
        </h2>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px 16px;color:#374151;font-size:14px;margin-bottom:12px;">
          <div><strong>Name:</strong> ${(sessionStorage.getItem("github_username")||"N/A").replace(/\b\w/g,y=>y.toUpperCase())}</div>
          <div style="text-align:right;"><strong>Year:</strong> ${w}</div>
          <div><strong>Month:</strong> ${o}</div>
          <div style="text-align:right;"><strong>Downloaded At:</strong> ${new Date().toLocaleDateString()}</div>
        </div>
        <div style="margin-top:14px;text-align:left;font-size:14px;color:#374151;line-height:1.5;">
          <strong>Report Description: </strong> Thyroid Function Test measures levels of thyroid hormones in the blood to assess thyroid gland function.
        </div>
      </div>
    `,g.insertBefore(h,g.firstChild);const p=document.createElement("div");p.style.position="fixed",p.style.top="-9999px",p.style.left="-9999px",p.style.width="900px",p.appendChild(g),document.body.appendChild(p);const m=await re(g,{backgroundColor:u?"#111827":"#ffffff"});document.body.removeChild(p);const x=document.createElement("a");x.download=`${e}-${w}-${o}-thyroid-report.png`,x.href=m,x.click()};if(a)return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600 dark:text-gray-300",children:[s.jsx(W,{className:"h-8 w-8 animate-spin mb-2"}),"Loading Thyroid Reports..."]});if(!r)return s.jsx("div",{className:"p-5 text-center text-red-500",children:"No Thyroid report data available."});const v=n==="all"?r.reports:(S=r.reports)==null?void 0:S.filter(o=>o.year===n),b={ft3:_e,ft4:Oe,tsh:We};return s.jsxs("div",{className:"p-5 max-w-6xl mx-auto space-y-5",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[s.jsx(V,{className:"h-5 w-5 text-blue-600"}),s.jsx("h1",{className:"text-xl font-bold flex items-center gap-2",children:r.description||e})]})}),s.jsxs("div",{className:"flex gap-3 border-b border-gray-200 dark:border-gray-700 pb-3 overflow-x-auto",children:[s.jsxs($,{onClick:()=>l("all"),variant:n==="all"?"default":"outline",className:"rounded-full",children:[s.jsx(D,{className:"h-4 w-4 mr-1"}),"All"]}),(T=r.reports)==null?void 0:T.map(o=>s.jsxs($,{onClick:()=>l(o.year),variant:n===o.year?"default":"outline",className:"rounded-full",children:[s.jsx(D,{className:"h-4 w-4 mr-1"}),o.year]},o.year))]}),v==null?void 0:v.map(o=>{var w;return s.jsxs(z,{children:[s.jsx(X,{children:s.jsxs(J,{className:"flex items-center gap-2 text-xl",children:[s.jsx(D,{className:"h-5 w-5 text-purple-500"}),"Year: ",o.year]})}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-6",children:(w=o.months)==null?void 0:w.map(f=>s.jsxs(A.details,{initial:!1,className:"group border border-gray-200 dark:border-gray-700",children:[s.jsxs("summary",{className:"cursor-pointer flex justify-between items-center px-4 py-2 bg-gray-50 dark:bg-gray-800",children:[s.jsxs("span",{className:"font-medium flex items-center gap-2",children:[s.jsx(B,{className:"group-open:hidden h-4 w-4 text-gray-500"}),s.jsx(ee,{className:"hidden group-open:block h-4 w-4 text-gray-500"}),f.month]}),s.jsx($,{onClick:u=>{u.preventDefault(),j(f.month,o.year)},size:"sm",variant:"outline",className:"flex items-center gap-1",children:s.jsx(te,{className:"h-4 w-4"})})]}),s.jsx("div",{ref:u=>c.current[f.month]=u,className:"p-4 bg-white dark:bg-gray-900",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800 text-left",children:[s.jsx("th",{className:"px-4 py-2",children:"Parameter"}),s.jsx("th",{className:"px-4 py-2",children:"Value"}),s.jsx("th",{className:"px-4 py-2",children:"Standard"}),s.jsx("th",{className:"px-4 py-2",children:"Unit"})]})}),s.jsx("tbody",{children:Object.entries(f.report).map(([u,g])=>{var F;const h=(F=r.standards)==null?void 0:F[u],p=(h==null?void 0:h.unit)||"",m=(h==null?void 0:h.standard)||"",x=parseFloat(g);let y=!1;if(m){if(m.startsWith("<")){const C=parseFloat(m.replace("<","").trim());y=x>=C}else if(m.startsWith(">")){const C=parseFloat(m.replace(">","").trim());y=x<=C}else if(m.includes("-")){const[C,R]=m.split("-").map(I=>parseFloat(I.trim()));y=x<C||x>R}}const P=b[u.toLowerCase()]||_;return s.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("td",{className:"px-4 py-2 capitalize text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[s.jsx(P,{className:"h-4 w-4 text-blue-500"}),u.replace(/_/g," ")]}),s.jsx("td",{className:`px-4 py-2 ${y?"font-bold text-red-600 dark:text-red-400":"text-gray-900 dark:text-gray-100"}`,children:g}),s.jsx("td",{className:"px-4 py-2 text-gray-500",children:m}),s.jsx("td",{className:"px-4 py-2 text-gray-500",children:p})]},u)})})]})})})]},f.month))})})]},o.year)})]})}const Yt=O(Ot);function qt(){const{name:e}=ke(),t=Ee(),{getReportType:a}=Y,{isloading:r}=q,i=$e(),[n,l]=N.useState([]),[c,d]=N.useState(null);N.useEffect(()=>{j()},[]);const j=async()=>{var S;const b=await a();l((b==null?void 0:b.report)||[]),(S=t.state)!=null&&S.name?d(t.state.name):e&&d(e)},v=b=>{d(b),i(`/report/${b}`,{replace:!0,state:{name:b}})};return r&&n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600 dark:text-gray-300",children:[s.jsx(W,{className:"h-8 w-8 animate-spin mb-2"}),"Loading reports..."]}):s.jsxs("div",{className:"p-3 mx-auto space-y-6",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx("div",{className:"w-64",children:s.jsx(z,{className:"shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs(Te,{value:c||"",onValueChange:v,children:[s.jsx(Fe,{className:"w-full h-9 text-sm",children:s.jsx(Pe,{placeholder:"Choose a report"})}),s.jsx(Me,{children:n.map(({name:b,description:S})=>s.jsx(Ae,{value:b,className:"text-sm",children:S},b))})]})})})}),!c&&s.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600 dark:text-gray-300",children:"Please choose a report to view details."}),s.jsxs(z,{children:[c==="lipidprofile"&&s.jsx(Ut,{name:"lipidprofile"}),c==="lft"&&s.jsx(Vt,{name:"lft"}),c==="rft"&&s.jsx(Wt,{name:"rft"}),c==="thyroid"&&s.jsx(Yt,{name:"thyroid"}),!["lipidprofile","lft","rft","thyroid"].includes(c||"")&&c&&s.jsxs("div",{className:"italic p-5 font-bold flex items-center gap-2 text-yellow-600 dark:text-yellow-400",children:[s.jsx(Ie,{className:"h-6 w-6"}),s.jsxs("span",{children:['No custom component for "',c,'" yet.']})]})]})]})}const Jt=O(qt);export{Jt as default};
