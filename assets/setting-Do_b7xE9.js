import{r as j,a as p,j as e,c as S,b as f,d as C,e as _,f as v,g as I,h as n,i as o,k as i,l as m,I as c,m as l,B as u,n as d,t as k,o as F,s as g}from"./index-mi2kdeca.js";const H=F({username:g().min(5,"GitHub username is required").max(50,"Username must be at most 50 characters"),pat:g().min(5,"GitHub Personal Access Token is required")});function y(){const[a,r]=j.useState(!!sessionStorage.getItem("github_username")&&!!sessionStorage.getItem("github_access_token")),s=p({resolver:k(H),defaultValues:{username:sessionStorage.getItem("github_username")||"",pat:sessionStorage.getItem("github_access_token")||""}}),x=({username:t,pat:b})=>{sessionStorage.setItem("github_username",t),sessionStorage.setItem("github_access_token",b),d.success("Settings saved to session storage"),r(!0)},h=()=>{sessionStorage.removeItem("github_username"),sessionStorage.removeItem("github_access_token"),s.reset({username:"",pat:""}),d.info("Settings removed from session storage"),r(!1)};return e.jsx("div",{className:S("flex flex-col gap-6 p-6 mx-auto"),children:e.jsxs(f,{children:[e.jsx(C,{className:"text-center",children:e.jsx(_,{className:"text-xl",children:"GitHub Settings"})}),e.jsx(v,{children:e.jsx(I,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(x),className:"grid gap-6",children:[e.jsx(n,{control:s.control,name:"username",render:({field:t})=>e.jsxs(o,{children:[e.jsx(i,{children:"GitHub Username"}),e.jsx(m,{children:e.jsx(c,{placeholder:"username",autoCapitalize:"none",autoComplete:"username",autoCorrect:"off",...t,disabled:a})}),e.jsx(l,{})]})}),e.jsx(n,{control:s.control,name:"pat",render:({field:t})=>e.jsxs(o,{children:[e.jsx(i,{children:"GitHub Personal Access Token"}),e.jsx(m,{children:e.jsx(c,{type:"text",placeholder:"pat",autoCapitalize:"none",autoCorrect:"off",...t,disabled:a})}),e.jsx(l,{})]})}),a?e.jsx(u,{type:"button",size:"lg",variant:"destructive",className:"w-full",onClick:h,children:"Remove Settings"}):e.jsx(u,{type:"submit",size:"lg",className:"w-full",children:"Save Settings"})]})})})]})})}export{y as default};
